## users app

users/
├── models.py
├── views.py
├── urls.py
├── admin.py
├── apps.py
└── signals.py

users/models.py

from django.db import models
from django.contrib.auth.models import User

class UserProfile(models.Model):
    user = models.OneToOneField(User, on_delete=models.CASCADE)
    bio = models.TextField(blank=True)
    profile_picture = models.ImageField(upload_to='profile_pics/', blank=True)

    def __str__(self):
        return self.user.username


## Privacy Settings:

class UserProfile(models.Model):
    ...
    is_private = models.BooleanField(default=False)  # Profile visible only to friends/followers
    allow_comments_from_nonfriends = models.BooleanField(default=True)

 if profile.is_private and not request.user.is_friend(profile_user):
    return redirect('access_denied')


## Profile search:
UserProfile.objects.filter(user__username__icontains=query)

## privacy controls:

is_private = models.BooleanField(default=False)

logic is as follows:
if profile.is_private and not current_user.is_friend(profile_user):
    return HttpResponseForbidden("Profile private")
